name: ZenPacks.zenoss.ZenPackLib

device_classes:
  /Device:
    templates:
      TESTDEFAULTS:
        description: you should see that DEFAULTS get set
        datasources:
          # THESE defaults arent working so set manually below remove when fixed
          DEFAULTS:
            type: Datapoint Aggregator
            eventClass: /App/Zenoss
            component: "${here/id}"
            targetDataSource: ethernetcmascd_64
            targetDataPoint: ifHCOutOctets
            targetMethod: os.interfaces
          agg_out_octets:
            eventClass: /Cmd/Fail
            datapoints:
              aggifHCOutOctets:
                operation: sum
          agg_in_octets:
            datapoints:
              aggifHCInOctets:
                operation: sum
        thresholds:
          DEFAULTS:
            eventClass: /Perf
            severity: crit
            minval: -100
            maxval: 100
          TEST:
            dsnames: [agg_out_octets_aggifHCOutOctets]
        graphs:
          DEFAULTS:
            width: 1000
            miny: 0
            units: oct per sec
          Aggregated Octets:
            graphpoints:
              RX:
                dpName: agg_out_octets_aggifHCOutOctets
              TX:
                dpName: agg_in_octets_aggifHCInOctets
